#N canvas 354 178 1123 788 12;
#X text 501 14 Copyright 2019 Dan Bornstein <danfuzz@milk.com>. Licensed
AS IS and WITHOUT WARRANTY under the Apache License \, Version 2.0.
Details: <http://www.apache.org/licenses/LICENSE-2.0>, f 65;
#X obj 27 201 mtof;
#X obj 94 202 expr if($f1 == 0 \, 0 \, 1);
#X obj 96 552 osc~;
#X obj 96 694 *~;
#X text 607 103 frequency;
#X obj 148 552 osc~;
#X obj 96 647 *~;
#X obj 148 586 expr~ 1 - (($v1 + 1) / 2 * ($v2 * 0.01)), f 20;
#X text 272 104 frequency cents;
#X text 786 98 aplitude amount %;
#X obj 680 356 loadbang;
#X obj 680 388 expr pow(2 \, 1.0/1200);
#X obj 287 356 trigger bang float;
#X obj 196 437 osc~;
#X obj 96 470 expr~ $v1 * (1 + ($v2 * $v3));
#X obj 27 271 send \$0-main-freq;
#X obj 96 327 receive \$0-main-freq;
#X obj 94 233 send \$0-on-off;
#X obj 141 658 receive \$0-on-off;
#X obj 614 190 send \$0-ring-freq;
#X obj 792 190 send \$0-ring-amt;
#X obj 148 511 receive \$0-ring-freq;
#X obj 285 548 receive \$0-ring-amt;
#X obj 284 189 send \$0-fm-cents;
#X obj 287 327 receive \$0-fm-cents;
#X obj 96 356 trigger float float;
#X obj 196 401 expr $f1 * pow(one_cent\$0 \, $f2);
#X obj 680 420 value one_cent\$0;
#X text 557 293 Constant "one cent." That is \, the value which if
taken to the 1200th power is 2 \, or put another way \, the ratio which
if applied 1200 times to a frequency yields the frequency one octave
higher., f 54;
#X text 450 102 amplitude;
#X obj 455 190 send \$0-fm-amp;
#X obj 296 438 receive \$0-fm-amp;
#X obj 96 742 outlet~;
#X obj 27 126 inlet;
#X text 12 104 Pairs of `(note \, velocity)`.;
#X obj 284 125 inlet;
#X obj 455 125 inlet;
#X obj 614 125 inlet;
#X obj 792 122 inlet;
#X text 304 77 Frequency modulator controls;
#X text 625 79 Amplitude LFO / ring modulator controls;
#X obj 27 171 unpack 0 0;
#X text 13 12 Demo synthesizer.;
#X msg 414 646 fm-cents \$1;
#X msg 559 646 fm-amp \$1;
#X msg 691 646 ring-freq \$1;
#X msg 843 646 ring-amt \$1;
#X obj 414 611 receive \$0-fm-cents;
#X obj 559 611 receive \$0-fm-amp;
#X obj 691 611 receive \$0-ring-freq;
#X obj 843 611 receive \$0-ring-amt;
#X text 508 575 Outlet to relay the knob values \, for UI presentation
outside this object.;
#X obj 652 744 outlet;
#X obj 455 158 infiknob 0 16 0.01 0;
#X obj 614 158 infiknob 0.1 20000 0.1 2;
#X obj 792 158 infiknob 0 100 0.01 0;
#X obj 284 158 infiknob -4800 4800 0;
#X connect 1 0 16 0;
#X connect 2 0 18 0;
#X connect 3 0 7 0;
#X connect 4 0 33 0;
#X connect 6 0 8 0;
#X connect 7 0 4 0;
#X connect 8 0 7 1;
#X connect 11 0 12 0;
#X connect 12 0 28 0;
#X connect 13 0 27 0;
#X connect 13 1 27 1;
#X connect 14 0 15 1;
#X connect 15 0 3 0;
#X connect 17 0 26 0;
#X connect 19 0 4 1;
#X connect 22 0 6 0;
#X connect 23 0 8 1;
#X connect 25 0 13 0;
#X connect 26 0 15 0;
#X connect 26 1 27 0;
#X connect 27 0 14 0;
#X connect 32 0 15 2;
#X connect 34 0 42 0;
#X connect 36 0 57 0;
#X connect 37 0 54 0;
#X connect 38 0 55 0;
#X connect 39 0 56 0;
#X connect 42 0 1 0;
#X connect 42 1 2 0;
#X connect 44 0 53 0;
#X connect 45 0 53 0;
#X connect 46 0 53 0;
#X connect 47 0 53 0;
#X connect 48 0 44 0;
#X connect 49 0 45 0;
#X connect 50 0 46 0;
#X connect 51 0 47 0;
#X connect 54 0 31 0;
#X connect 55 0 20 0;
#X connect 56 0 21 0;
#X connect 57 0 24 0;
